<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Test.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">

    <title>Anxiety Test</title>
</head>
<body>
     <header>
    <div class="logo">🌱 Moodify</div>
    <nav>
      <a href="homePage.html" target="_blank">Home</a>
      <a href="About.html" target="_blank">About</a>
      <a href="Learn.html" target="_blank">Learn about mental health</a>
    </nav>
    <div class="right-section">
      <div class="login"><i class="fa-solid fa-user"></i> <a href="LoginPage.html" target="_blank">Login</a></div>
      <div class="menu-toggle">&#9776;</div>
    </div>
  </header>


    <div class="container">
      <h1>Anxiety Test</h1>
    </div>

    <div class="progress-container">
      <div class="progress-bar">
           
        <div class="step active">
          <div class="circle"></div>
          <p>Test Question</p>
        </div>

        <div class="line"></div>

         <div class="step">
          <div class="circle"></div>
          <p>Optional Question</p>
        </div>

        <div class="line"></div>


        <div class="step">
          <div class="circle"></div>
          <p>Your Result</p>
        </div>
      </div>
     </div>

     <div class="text">
      <p> <b>Over the last 2 week </b>, how often have you been bothered by any of the following problems?
      </p>
      <div class="note">
      <p>Please note , all fields are required.</p>
      </div>
     </div>


     <!-- question 1 -->
   
    <div class="question">
      <p>1. Feel nervous, anxious, or on edge?</p>
      <div class="option">
        <button>NOT AT ALL</button>
        <button>SEVERAL DAYS</button>
        <button>MORE THAN HALF THE DAYS</button>
        <button>NEARLY EVERY DAY</button>
      </div>
      </div>
    
     <!-- question 2 -->
      
    <div class="question">
      <p>2. Worry too much about different things?</p>
      <div class="option">
        <button>NOT AT ALL</button>
        <button>SEVERAL DAYS</button>
        <button>MORE THAN HALF THE DAYS</button>
        <button>NEARLY EVERY DAY</button>
      </div>
    </div>


     <!-- question 3 -->
     
    <div class="question">
      <p>3. Found it hard to relax or calm down once started worrying?</p>
      <div class="option">
        <button>NOT AT ALL</button>
        <button>SEVERAL DAYS</button>
        <button>MORE THAN HALF THE DAYS</button>
        <button>NEARLY EVERY DAY</button>
      </div>
    </div>

     <!-- question 4 -->

    <div class="question">
      <p>4. Feel something bad might happen, even when things are fine?</p>
      <div class="option">
        <button>NOT AT ALL</button>
        <button>SEVERAL DAYS</button>
        <button>MORE THAN HALF THE DAYS</button>
        <button>NEARLY EVERY DAY</button>
      </div>
    </div>

    <!-- question 5 -->

    <div class="question">
      <p>5. Having trouble controlling worries or thoughts?</p>
      <div class="option">
        <button>NOT AT ALL</button>
        <button>SEVERAL DAYS</button>
        <button>MORE THAN HALF THE DAYS</button>
        <button>NEARLY EVERY DAY</button>
      </div>
    </div>

     <!-- question 6 -->
       
    <div class="question">
      <p>6. Feel tired or low on energy even when I haven’t done much?</p>
      <div class="option">
        <button>NOT AT ALL</button>
        <button>SEVERAL DAYS</button>
        <button>MORE THAN HALF THE DAYS</button>
        <button>NEARLY EVERY DAY</button>
      </div>
    </div>

     <!-- question 7 -->

    <div class="question">
      <p>7. Heart beats fast, sweat, or feel shaky when feel anxious?</p>
      <div class="option">
        <button>NOT AT ALL</button>
        <button>SEVERAL DAYS</button>
        <button>MORE THAN HALF THE DAYS</button>
        <button>NEARLY EVERY DAY</button>
      </div>
    </div>

     <!-- question 8 -->

    <div class="question">
      <p>8. Get headaches, stomachaches, or muscle tension when stressed?</p>
      <div class="option">
        <button>NOT AT ALL</button>
        <button>SEVERAL DAYS</button>
        <button>MORE THAN HALF THE DAYS</button>
        <button>NEARLY EVERY DAY</button>
      </div>
    </div>

 <!-- this is 9 question  -->

       <div class="question">
      <p>9. Anxiety makes it hard to focus on studies or complete assignments?</p>
      <div class="option">
        <button>NOT AT ALL</button>
        <button>SEVERAL DAYS</button>
        <button>MORE THAN HALF THE DAYS</button>
        <button>NEARLY EVERY DAY</button>
      </div>
    </div>

      <!-- this is 10 question  -->

      <div class="question">
      <p>10. Compare myself with others and feel I’m not good enough?</p>
      <div class="option">
        <button>NOT AT ALL</button>
        <button>SEVERAL DAYS</button>
        <button>MORE THAN HALF THE DAYS</button>
        <button>NEARLY EVERY DAY</button>
      </div>
    </div>

     <div class="button_next button_next1">
      <a href="Anxiety_optional.html" target="_blank" id="nextBtn">NEXT <i class="fa-solid fa-arrow-right"></i></a>
     </div>
             
    </div>
             

    </div>

     <!-- footer -->
  <footer>
      <div class="footer-container">
        <div class="footer-col">
          <h3>Quick Links</h3>
          <a href="homePage.html" target="_blank">Home</a>
          <a href="About.html" target="_blank">About</a>
          <a href="Learn.html" target="_blank">Learn about mental health</a>
        </div>
        <div class="footer-col">
          <h3>Resources</h3>
          <a href="#">Blog</a>
           <a href="#">Self-Care Tips</a>
            <a href="#">Mental Health Guides</a>
        </div>
        <div class="footer-col">
          <h3>Contact</h3>
          <p>Email:support2moodify.com</p>
          <p>Phone: +91-1234567899</p>
        </div>
        </div>
        <div class="footer-bottom">
          <p>Made with 💚 to support your mental health journey.</p>
        </div>
      
    </footer>

    <script>


const optionScores = {
  "NOT AT ALL": 0,
  "SEVERAL DAYS": 1,
  "MORE THAN HALF THE DAYS": 2,
  "NEARLY EVERY DAY": 3
};


let answers = Array.from(document.querySelectorAll(".question")).map(() => null);

document.querySelectorAll(".question").forEach((questionEl, qIndex) => {
  const buttons = questionEl.querySelectorAll("button");

  buttons.forEach((btn, bIndex) => {
    btn.addEventListener("click", () => {
      
      //buttons.forEach(b => b.classList.remove("active"));
      //btn.classList.add("active");
      questionEl.querySelectorAll("button").forEach(b => b.classList.remove("active"));
     btn.classList.add("active");


      const score = optionScores[btn.textContent.trim()];
      answers[qIndex] = score;
      console.log(`Q${qIndex + 1}: ${btn.textContent} => ${score}`);
    });
  });
});



document.getElementById("nextBtn").addEventListener("click", (e) => {
  
  if (answers.includes(null)) {
    e.preventDefault();
   // alert("Please answer all questions before moving to next page.");
    if (answers.includes(null)) {
  e.preventDefault();
  const msg = document.createElement("div");
  msg.textContent = "⚠️ Please answer all questions before continuing.";
  msg.className = "warning";
  document.body.appendChild(msg);
  setTimeout(() => msg.remove(), 2500);
  return;
}
    return;
  }

  
  localStorage.setItem("anxietyAnswers", JSON.stringify(answers));

  
  const steps = document.querySelectorAll(".step");
  steps[0].classList.add("completed");
  steps[1].classList.add("active");
});


window.addEventListener("DOMContentLoaded", () => {
  const savedAnswers = JSON.parse(localStorage.getItem("anxietyAnswers"));
  if (savedAnswers) {
    savedAnswers.forEach((score, qIndex) => {
      if (score !== null) {
        const questionEl = document.querySelectorAll(".question")[qIndex];
         if (!questionEl) return;
        const buttons = questionEl.querySelectorAll("button");
        const selectedBtn = Array.from(buttons).find(
          btn => optionScores[btn.textContent.trim()] === score
        );
        if (selectedBtn) selectedBtn.classList.add("active");
      }
    });
  }
});

 document.querySelector(".menu-toggle").addEventListener("click",()=>document.querySelector("nav").classList.toggle("show"));

</script>

</body>
</html>

